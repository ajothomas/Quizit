{% extends 'instructor/instructorBasepage.html' %}
{% load math_operations %}

{% block breadcrumb %}
	<a href="#">Dashboard</a>
{% endblock %}

{% block content %}

	<div class="row-fluid sortable">
		<div class="box span8">
			<div class="box-header">
				<h2><i class="halflings-icon white align-justify"></i><span class="break"></span>Overall Stats</h2>
				<div class="box-icon">
					<a href="#" class="btn-minimize"><i class="halflings-icon white chevron-up"></i></a>
				</div>
			</div>
			<div class="box-content" style="height:300px; overflow-y:scroll;">
				<table class="table">
					  <thead>
						  <tr>
							  <th width="80%"></th>
							  <th></th>
						  </tr>
					  </thead>   
					  <tbody>
						<tr>
							<td>Number of students</td>
							<td class="center">{{ numAllStudents }}</td>
						</tr>
						
						<tr>
							<td>Total Questions</td>
							<td class="center">{{ numAllQuestions }}</td>
						</tr>

						<tr>
							<td>Number of topics</td>
							<td class="center">{{ numAllTopics }}</td>
						</tr>

						<tr>
							<td>Total Attempts</td>
							<td class="center">{{ numAllAttempts }}</td>
						</tr>

						<tr>
							<td>Total Correct Attempts</td>
							<td class="center">{{ numAllCorrectAttempts }}</td>
						</tr>

						<tr>
							<td>Success %</td>
							<td class="center">{{ numAllCorrectAttempts|as_percentage_of:numAllAttempts }}</td>
						</tr>

						
					  </tbody>
				 </table>  
			</div>
		</div><!--/row-->
	</div>
	<div class="row-fluid sortable">
		<div class="box span10">
			<div class="box-header">
				<h2><i class="halflings-icon white align-justify"></i><span class="break"></span>Topic Level Stats</h2>
				<div class="box-icon">
					<a href="#" class="btn-minimize"><i class="halflings-icon white chevron-up"></i></a>
				</div>
			</div>
			<div class="box-content" style="height:300px; overflow-y:scroll;">
				<table class="table">
					  <thead>
						  <tr>
							  <th width="50%">Topic</th>
							  <th>Attempts</th>
							  <th>Correct Attempts</th>
							  <th>Success %</th>
						  </tr>
					  </thead>   
					  <tbody>
					  {% for key, values in attemptsTopicDict.items %}
					  	<tr>
					  		 {% for k, v in values.items %}
					  				<td>{{ v }}</td>
							 {% endfor %}
					  	</tr>
					  {% endfor %}
					  </tbody>
				 </table>  
			</div>
		</div><!--/row-->
	</div>

{% endblock %}

{% block javascript_bottom %}	
<!-- start: JavaScript-->
<script type="text/javascript">
	console.log("{{attemptsTopicDict}}");
	{% for key, values in attemptsTopicDict.items %}
		console.log("hello");
	{% endfor %}
</script>

{% endblock %}